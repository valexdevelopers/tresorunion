(function(){jQuery.fn.flexNav=function(e){var t,n,r,i,s,o;o=jQuery.extend({animationSpeed:0},e);t=jQuery(this);i=false;r=false;t.find("li").each(function(){if(jQuery(this).has("ul").length){return jQuery(this).addClass("item-with-ul").find("ul").hide()}});if(t.data("breakpoint")){n=t.data("breakpoint")}s=function(){if(jQuery(window).width()<=n){t.removeClass("lg-screen").addClass("sm-screen");jQuery(".one-page li a").on("click",function(){return t.removeClass("show")});return jQuery(".item-with-ul").off()}else{t.removeClass("sm-screen").addClass("lg-screen");t.removeClass("show");return jQuery(".item-with-ul").on("mouseenter",function(){return jQuery(this).find(">ul").addClass("show").stop(true,true).slideDown(o.animationSpeed)}).on("mouseleave",function(){return jQuery(this).find(">ul").removeClass("show").stop(true,true).slideUp(o.animationSpeed)})}};jQuery(".item-with-ul, .menu-button").append('<span class="touch-button"></span>');jQuery(".menu-button, .menu-button .touch-button").on("touchstart mousedown",function(e){e.preventDefault();e.stopPropagation();console.log(r);return jQuery(this).on("touchmove mousemove",function(e){var t;t=e.pageX;r=true;return jQuery(window).off("touchmove mousemove")})}).on("touchend mouseup",function(e){var n;e.preventDefault();e.stopPropagation();r=false;n=jQuery(this).parent();if(r===false){console.log("clicked")}if(i===false){t.addClass("show");return i=true}else if(i===true){t.removeClass("show");return i=false}});jQuery(".touch-button").on("touchstart mousedown",function(e){e.stopPropagation();e.preventDefault();return jQuery(this).on("touchmove mousemove",function(e){r=true;return jQuery(window).off("touchmove mousemove")})}).on("touchend mouseup",function(e){var n;e.preventDefault();e.stopPropagation();n=jQuery(this).parent(".item-with-ul").find(">ul");if(t.hasClass("lg-screen")===true){jQuery(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show").hide()}if(n.hasClass("show")===true){n.siblings(".touch-button").removeClass("submenu-open");return n.removeClass("show").slideUp(o.animationSpeed)}else if(n.hasClass("show")===false){n.siblings(".touch-button").addClass("submenu-open");return n.addClass("show").slideDown(o.animationSpeed)}});jQuery(".item-with-ul *").focus(function(){jQuery(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide();return jQuery(this).parent(".item-with-ul").find(">ul").addClass("open").show()});s();return jQuery(window).on("resize",s)}}).call(this)